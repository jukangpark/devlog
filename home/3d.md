---
description: 회사에 새로운 제품인 3D 데이터 센터 모니터링  솔루션을 개발해야만해요!
cover: >-
  https://images.unsplash.com/photo-1506399309177-3b43e99fead2?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxOTcwMjR8MHwxfHNlYXJjaHw2fHxkYXRhY2VudGVyfGVufDB8fHx8MTcyMDU5MzI5MHww&ixlib=rb-4.0.3&q=85
coverY: 0
---

# 리액트에서의 3D 모델 렌더링은 어떻게?

### 3D 데이터 센터 모니터링 솔루션 개발 프로젝트 개요

데이터 센터의 복잡성과 규모가 증가함에 따라, \
이를 효과적으로 시각화하고 실시간으로 모니터링할 수 있는 솔루션에 대한 기업들의 수요가 급증하고 있었다.  \
이러한 요구에 부응하여, \
우리팀은 3D 시각화 기술을 활용하여 데이터 센터의 인프라를 직관적으로 관리할 수 있는 3D 모니터링 솔루션을 개발하고자 했다. 이번 글에서는 이러한 솔루션을 제품화하는 과정과 핵심 개념들을 상세히 다루고자 한다.\
설명의 편의성을 위해 새 프로젝트를 DOMS 라고 부르겠다. (회사 제품 네이밍)



### 과거 고객사들의 요구사항 분석

기존에 회사에서 Canvas 형태로 개발된 완전 3D 방식이 아닌, \
이미지를 활용한 3D 데이터 센터 모니터링 솔루션 사업을 진행했던 레퍼런스들을 살펴본 결과\
고객사들의 주요 요구사항은 아래와 같았다.

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption><p>과거 3D 데이터 모니터링 솔루션 사업 레퍼런스 중 하나</p></figcaption></figure>

1. 랙을 클릭하게 되면 해당 랙에 꽂혀있는 장비를 확인할 수 있어야 함
2. 랙의 색상을 통해 해당 랙에 꽂혀있는 장비들 중 장애가 발생한 곳을 확인할 수 있어야 함
3. 모니터링 하고 있는 데이터들에 대한 전체 통계를 확인할 수 있어야 함
4. 2D /  3D 뷰를 클릭하여 전환할 수 있어야함
5. 권한 별로 볼 수 있는 모니터링 대시보드가 나눠져야함
6. 3D 텍스트를 통해 각 랙이 어떤 위치에 배치되어있는 지 확인할 수 있어야함

요구사항을 우선 기술적으로 구현해내기 위해서는 각 요구사항들을 풀어낼 수 있는 라이브러리가 존재하는지 찾아야했다.\
그리고 솔루션이 개발된 이후에, 각 고객사마다 특수하게 요구할 수 도 있는 기술적인 요구사항들을 충족시키기 위한 확장성 있고, 수정이 용이한 구조로 짜는 게 핵심이였으며, 기존의 3D 데이터 센터 모니터링 솔루션의 문제점을 보완해야하는 것도 문제였다.



### 입사하자마자 3D 모델링을 핸들링?

나는 입사하자마자 DOMS 개발을 위해\
리액트 환경에서 한번도 구현해본적 없는 3D 모델링과 x,y 좌표계를 구현해야만 했다.\
우선 3D 환경을 쉽게 리액트에서 핸들링 할 수 있는 라이브러리를 찾았는데, \
3가지를 찾게 되었다.

1. [three.js](https://threejs.org)
2. [@react-three/fiber](https://docs.pmnd.rs/react-three-fiber/getting-started/introduction)
3. [@react-three/drei](https://github.com/pmndrs/drei)

위 라이브러리를 사용하여, 실무에서 바로 개발을 해야 되는 상황이였기 때문에 \
빠르게 학습하기 위해 공식문서와 해당 내용을 다루고 있는 [Udemy 강의](https://www.udemy.com/course/threejs-using-react/?couponCode=ACCAGE0923)를 찾아 수강하였다.

<figure><img src="../.gitbook/assets/image (14).png" alt=""><figcaption><p>강의가 길지 않았지만 기본적인 개념들을 배우기에는 충분했다.</p></figcaption></figure>

Three.js 는 3D 그래픽을 웹 브라우저에서 렌더링하기 위한,  JavaScript 라이브러리로, \
React Three Fiber 는 이를 React 의 컴포넌트 기반 접근 방식과 결합하여 \
더 쉽게 3D 장면을 구축하고 관리할 수 있도록 도와주는 라이브러리 라는 사실을 알게 되었다.\




### 3D 모델링과 좌표계 설계

react-three/fiber 의 Canvas 컴포넌트를 활용하여, \
Ground 와, x,y 좌표를 그릴 수 있는 방법을 찾기 시작하였다.\
어떻게 해야 Ground 와 x, y 좌표를 3D 환경에서 구현하고, 이것들을 활용하여, \
데이터 기반으로 각 랙들을 올바른 위치에 배치할 수 있을까 고민하기 시작했다.



3D 환경에서 x,y,z 좌표가 0,0,0 의 경우는 Canvas 영역의 정중앙이였고, \
Ground 너비 높이 값에 따라, 랙 배치가 달라져야만 했다. \
각 라인을 그리드 형태로 그리는 작업도 필요했기 때문에, \
전체적인  3D 좌표계를 만들기 위한 설계를 직접 그려나가면서 고민하기 시작했다.

<figure><img src="../.gitbook/assets/기술 블로그-3 (1).jpg" alt=""><figcaption><p>아이디어 스케치</p></figcaption></figure>

\














\
